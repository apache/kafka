# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

name=KafkaTestsServicesConfig
appenders=stdout,kafkaInfoAppender,kafkaDebugAppender,stateChangeInfoAppender,stateChangeDebugAppender,requestInfoAppender,requestDebugAppender,cleanerInfoAppender,cleanerDebugAppender,controllerInfoAppender,controllerDebugAppender,authorizerInfoAppender,authorizerDebugAppender

# Console appender
appender.stdout.type=Console
appender.stdout.name=STDOUT
appender.stdout.layout.type=PatternLayout
appender.stdout.layout.pattern=[%d] %p %m (%c)%n

# Kafka INFO level appender (RollingFileAppender)
appender.kafkaInfoAppender.type=RollingFile
appender.kafkaInfoAppender.name=KafkaInfoAppender
appender.kafkaInfoAppender.fileName={{ log_dir }}/info/server.log
appender.kafkaInfoAppender.filePattern={{ log_dir }}/info/server.log.%d{yyyy-MM-dd-HH}
appender.kafkaInfoAppender.layout.type=PatternLayout
appender.kafkaInfoAppender.layout.pattern=[%d] %p %m (%c)%n
appender.kafkaInfoAppender.policies.type=Policies
appender.kafkaInfoAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.kafkaInfoAppender.policies.time.interval=1
appender.kafkaInfoAppender.filter.threshold.type=ThresholdFilter
appender.kafkaInfoAppender.filter.threshold.level=INFO

# Kafka DEBUG level appender (RollingFileAppender)
appender.kafkaDebugAppender.type=RollingFile
appender.kafkaDebugAppender.name=KafkaDebugAppender
appender.kafkaDebugAppender.fileName={{ log_dir }}/debug/server.log
appender.kafkaDebugAppender.filePattern={{ log_dir }}/debug/server.log.%d{yyyy-MM-dd-HH}
appender.kafkaDebugAppender.layout.type=PatternLayout
appender.kafkaDebugAppender.layout.pattern=[%d] %p %m (%c)%n
appender.kafkaDebugAppender.policies.type=Policies
appender.kafkaDebugAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.kafkaDebugAppender.policies.time.interval=1
appender.kafkaDebugAppender.filter.threshold.type=ThresholdFilter
appender.kafkaDebugAppender.filter.threshold.level=DEBUG

# State Change INFO level appender
appender.stateChangeInfoAppender.type=RollingFile
appender.stateChangeInfoAppender.name=StateChangeInfoAppender
appender.stateChangeInfoAppender.fileName={{ log_dir }}/info/state-change.log
appender.stateChangeInfoAppender.filePattern={{ log_dir }}/info/state-change.log.%d{yyyy-MM-dd-HH}
appender.stateChangeInfoAppender.layout.type=PatternLayout
appender.stateChangeInfoAppender.layout.pattern=[%d] %p %m (%c)%n
appender.stateChangeInfoAppender.policies.type=Policies
appender.stateChangeInfoAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.stateChangeInfoAppender.policies.time.interval=1
appender.stateChangeInfoAppender.filter.threshold.type=ThresholdFilter
appender.stateChangeInfoAppender.filter.threshold.level=INFO

# State Change DEBUG level appender
appender.stateChangeDebugAppender.type=RollingFile
appender.stateChangeDebugAppender.name=StateChangeDebugAppender
appender.stateChangeDebugAppender.fileName={{ log_dir }}/debug/state-change.log
appender.stateChangeDebugAppender.filePattern={{ log_dir }}/debug/state-change.log.%d{yyyy-MM-dd-HH}
appender.stateChangeDebugAppender.layout.type=PatternLayout
appender.stateChangeDebugAppender.layout.pattern=[%d] %p %m (%c)%n
appender.stateChangeDebugAppender.policies.type=Policies
appender.stateChangeDebugAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.stateChangeDebugAppender.policies.time.interval=1
appender.stateChangeDebugAppender.filter.threshold.type=ThresholdFilter
appender.stateChangeDebugAppender.filter.threshold.level=DEBUG

# Request INFO level appender
appender.requestInfoAppender.type=RollingFile
appender.requestInfoAppender.name=RequestInfoAppender
appender.requestInfoAppender.fileName={{ log_dir }}/info/kafka-request.log
appender.requestInfoAppender.filePattern={{ log_dir }}/info/kafka-request.log.%d{yyyy-MM-dd-HH}
appender.requestInfoAppender.layout.type=PatternLayout
appender.requestInfoAppender.layout.pattern=[%d] %p %m (%c)%n
appender.requestInfoAppender.policies.type=Policies
appender.requestInfoAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.requestInfoAppender.policies.time.interval=1
appender.requestInfoAppender.filter.threshold.type=ThresholdFilter
appender.requestInfoAppender.filter.threshold.level=INFO

# Request DEBUG level appender
appender.requestDebugAppender.type=RollingFile
appender.requestDebugAppender.name=RequestDebugAppender
appender.requestDebugAppender.fileName={{ log_dir }}/debug/kafka-request.log
appender.requestDebugAppender.filePattern={{ log_dir }}/debug/kafka-request.log.%d{yyyy-MM-dd-HH}
appender.requestDebugAppender.layout.type=PatternLayout
appender.requestDebugAppender.layout.pattern=[%d] %p %m (%c)%n
appender.requestDebugAppender.policies.type=Policies
appender.requestDebugAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.requestDebugAppender.policies.time.interval=1
appender.requestDebugAppender.filter.threshold.type=ThresholdFilter
appender.requestDebugAppender.filter.threshold.level=DEBUG

# Cleaner INFO level appender
appender.cleanerInfoAppender.type=RollingFile
appender.cleanerInfoAppender.name=CleanerInfoAppender
appender.cleanerInfoAppender.fileName={{ log_dir }}/info/log-cleaner.log
appender.cleanerInfoAppender.filePattern={{ log_dir }}/info/log-cleaner.log.%d{yyyy-MM-dd-HH}
appender.cleanerInfoAppender.layout.type=PatternLayout
appender.cleanerInfoAppender.layout.pattern=[%d] %p %m (%c)%n
appender.cleanerInfoAppender.policies.type=Policies
appender.cleanerInfoAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.cleanerInfoAppender.policies.time.interval=1
appender.cleanerInfoAppender.filter.threshold.type=ThresholdFilter
appender.cleanerInfoAppender.filter.threshold.level=INFO

# Cleaner DEBUG level appender
appender.cleanerDebugAppender.type=RollingFile
appender.cleanerDebugAppender.name=CleanerDebugAppender
appender.cleanerDebugAppender.fileName={{ log_dir }}/debug/log-cleaner.log
appender.cleanerDebugAppender.filePattern={{ log_dir }}/debug/log-cleaner.log.%d{yyyy-MM-dd-HH}
appender.cleanerDebugAppender.layout.type=PatternLayout
appender.cleanerDebugAppender.layout.pattern=[%d] %p %m (%c)%n
appender.cleanerDebugAppender.policies.type=Policies
appender.cleanerDebugAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.cleanerDebugAppender.policies.time.interval=1
appender.cleanerDebugAppender.filter.threshold.type=ThresholdFilter
appender.cleanerDebugAppender.filter.threshold.level=DEBUG

# Controller INFO level appender
appender.controllerInfoAppender.type=RollingFile
appender.controllerInfoAppender.name=ControllerInfoAppender
appender.controllerInfoAppender.fileName={{ log_dir }}/info/controller.log
appender.controllerInfoAppender.filePattern={{ log_dir }}/info/controller.log.%d{yyyy-MM-dd-HH}
appender.controllerInfoAppender.layout.type=PatternLayout
appender.controllerInfoAppender.layout.pattern=[%d] %p %m (%c)%n
appender.controllerInfoAppender.policies.type=Policies
appender.controllerInfoAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.controllerInfoAppender.policies.time.interval=1
appender.controllerInfoAppender.filter.threshold.type=ThresholdFilter
appender.controllerInfoAppender.filter.threshold.level=INFO

# Controller DEBUG level appender
appender.controllerDebugAppender.type=RollingFile
appender.controllerDebugAppender.name=ControllerDebugAppender
appender.controllerDebugAppender.fileName={{ log_dir }}/debug/controller.log
appender.controllerDebugAppender.filePattern={{ log_dir }}/debug/controller.log.%d{yyyy-MM-dd-HH}
appender.controllerDebugAppender.layout.type=PatternLayout
appender.controllerDebugAppender.layout.pattern=[%d] %p %m (%c)%n
appender.controllerDebugAppender.policies.type=Policies
appender.controllerDebugAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.controllerDebugAppender.policies.time.interval=1
appender.controllerDebugAppender.filter.threshold.type=ThresholdFilter
appender.controllerDebugAppender.filter.threshold.level=DEBUG

# Authorizer INFO level appender
appender.authorizerInfoAppender.type=RollingFile
appender.authorizerInfoAppender.name=AuthorizerInfoAppender
appender.authorizerInfoAppender.fileName={{ log_dir }}/info/kafka-authorizer.log
appender.authorizerInfoAppender.filePattern={{ log_dir }}/info/kafka-authorizer.log.%d{yyyy-MM-dd-HH}
appender.authorizerInfoAppender.layout.type=PatternLayout
appender.authorizerInfoAppender.layout.pattern=[%d] %p %m (%c)%n
appender.authorizerInfoAppender.policies.type=Policies
appender.authorizerInfoAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.authorizerInfoAppender.policies.time.interval=1
appender.authorizerInfoAppender.filter.threshold.type=ThresholdFilter
appender.authorizerInfoAppender.filter.threshold.level=INFO

# Authorizer DEBUG level appender
appender.authorizerDebugAppender.type=RollingFile
appender.authorizerDebugAppender.name=AuthorizerDebugAppender
appender.authorizerDebugAppender.fileName={{ log_dir }}/debug/kafka-authorizer.log
appender.authorizerDebugAppender.filePattern={{ log_dir }}/debug/kafka-authorizer.log.%d{yyyy-MM-dd-HH}
appender.authorizerDebugAppender.layout.type=PatternLayout
appender.authorizerDebugAppender.layout.pattern=[%d] %p %m (%c)%n
appender.authorizerDebugAppender.policies.type=Policies
appender.authorizerDebugAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.authorizerDebugAppender.policies.time.interval=1
appender.authorizerDebugAppender.filter.threshold.type=ThresholdFilter
appender.authorizerDebugAppender.filter.threshold.level=DEBUG

# Root logger configuration
rootLogger.level={{ log_level|default("DEBUG") }}
rootLogger.appenderRefs=stdout
rootLogger.appenderRef.stdout.ref=STDOUT

# Define loggers for specific packages and components
loggers=kafka.producer.async.DefaultEventHandler,kafka.client.ClientUtils,kafka.perf,kafka.perf.ProducerPerformance$ProducerThread,kafka,kafka.network.RequestChannel$,kafka.network.Processor,kafka.server.KafkaApis,kafka.request.logger,org.apache.kafka.raft,org.apache.kafka.controller,kafka.controller,kafka.log.LogCleaner,state.change.logger,kafka.authorizer.logger,org.apache.kafka.coordinator.group

# Kafka loggers
logger.kafka.producer.async.DefaultEventHandler.name=kafka.producer.async.DefaultEventHandler
logger.kafka.producer.async.DefaultEventHandler.level={{ log_level|default("DEBUG") }}
logger.kafka.producer.async.DefaultEventHandler.appenderRefs=kafkaInfoAppender,kafkaDebugAppender
logger.kafka.producer.async.DefaultEventHandler.appenderRef.kafkaInfoAppender.ref=KafkaInfoAppender
logger.kafka.producer.async.DefaultEventHandler.appenderRef.kafkaDebugAppender.ref=KafkaDebugAppender

logger.kafka.client.ClientUtils.name=kafka.client.ClientUtils
logger.kafka.client.ClientUtils.level={{ log_level|default("DEBUG") }}
logger.kafka.client.ClientUtils.appenderRefs=kafkaInfoAppender,kafkaDebugAppender
logger.kafka.client.ClientUtils.appenderRef.kafkaInfoAppender.ref=KafkaInfoAppender
logger.kafka.client.ClientUtils.appenderRef.kafkaDebugAppender.ref=KafkaDebugAppender

logger.kafka.perf.name=kafka.perf
logger.kafka.perf.level={{ log_level|default("DEBUG") }}
logger.kafka.perf.appenderRefs=kafkaInfoAppender,kafkaDebugAppender
logger.kafka.perf.appenderRef.kafkaInfoAppender.ref=KafkaInfoAppender
logger.kafka.perf.appenderRef.kafkaDebugAppender.ref=KafkaDebugAppender

logger.kafka.perf.ProducerPerformance$ProducerThread.name=kafka.perf.ProducerPerformance$ProducerThread
logger.kafka.perf.ProducerPerformance$ProducerThread.level={{ log_level|default("DEBUG") }}
logger.kafka.perf.ProducerPerformance$ProducerThread.appenderRefs=kafkaInfoAppender,kafkaDebugAppender
logger.kafka.perf.ProducerPerformance$ProducerThread.appenderRef.kafkaInfoAppender.ref=KafkaInfoAppender
logger.kafka.perf.ProducerPerformance$ProducerThread.appenderRef.kafkaDebugAppender.ref=KafkaDebugAppender

logger.kafka.name=kafka
logger.kafka.level={{ log_level|default("DEBUG") }}
logger.kafka.appenderRefs=kafkaInfoAppender,kafkaDebugAppender
logger.kafka.appenderRef.kafkaInfoAppender.ref=KafkaInfoAppender
logger.kafka.appenderRef.kafkaDebugAppender.ref=KafkaDebugAppender

# Request Channel and Server loggers
logger.kafka.network.RequestChannel$.name=kafka.network.RequestChannel$
logger.kafka.network.RequestChannel$.level={{ log_level|default("DEBUG") }}
logger.kafka.network.RequestChannel$.appenderRefs=requestInfoAppender,requestDebugAppender
logger.kafka.network.RequestChannel$.appenderRef.requestInfoAppender.ref=RequestInfoAppender
logger.kafka.network.RequestChannel$.appenderRef.requestDebugAppender.ref=RequestDebugAppender
logger.kafka.network.RequestChannel$.additivity=false

logger.kafka.network.Processor.name=kafka.network.Processor
logger.kafka.network.Processor.level={{ log_level|default("DEBUG") }}
logger.kafka.network.Processor.appenderRefs=requestInfoAppender,requestDebugAppender
logger.kafka.network.Processor.appenderRef.requestInfoAppender.ref=RequestInfoAppender
logger.kafka.network.Processor.appenderRef.requestDebugAppender.ref=RequestDebugAppender

logger.kafka.server.KafkaApis.name=kafka.server.KafkaApis
logger.kafka.server.KafkaApis.level={{ log_level|default("DEBUG") }}
logger.kafka.server.KafkaApis.appenderRefs=requestInfoAppender,requestDebugAppender
logger.kafka.server.KafkaApis.appenderRef.requestInfoAppender.ref=RequestInfoAppender
logger.kafka.server.KafkaApis.appenderRef.requestDebugAppender.ref=RequestDebugAppender
logger.kafka.server.KafkaApis.additivity=false

logger.kafka.request.logger.name=kafka.request.logger
logger.kafka.request.logger.level={{ log_level|default("DEBUG") }}
logger.kafka.request.logger.appenderRefs=requestInfoAppender,requestDebugAppender
logger.kafka.request.logger.appenderRef.requestInfoAppender.ref=RequestInfoAppender
logger.kafka.request.logger.appenderRef.requestDebugAppender.ref=RequestDebugAppender
logger.kafka.request.logger.additivity=false

# Controller loggers
logger.org.apache.kafka.raft.name=org.apache.kafka.raft
logger.org.apache.kafka.raft.level={{ log_level|default("DEBUG") }}
logger.org.apache.kafka.raft.appenderRefs=controllerInfoAppender,controllerDebugAppender
logger.org.apache.kafka.raft.appenderRef.controllerInfoAppender.ref=ControllerInfoAppender
logger.org.apache.kafka.raft.appenderRef.controllerDebugAppender.ref=ControllerDebugAppender

logger.org.apache.kafka.controller.name=org.apache.kafka.controller
logger.org.apache.kafka.controller.level={{ log_level|default("DEBUG") }}
logger.org.apache.kafka.controller.appenderRefs=controllerInfoAppender,controllerDebugAppender
logger.org.apache.kafka.controller.appenderRef.controllerInfoAppender.ref=ControllerInfoAppender
logger.org.apache.kafka.controller.appenderRef.controllerDebugAppender.ref=ControllerDebugAppender

logger.kafka.controller.name=kafka.controller
logger.kafka.controller.level={{ log_level|default("DEBUG") }}
logger.kafka.controller.appenderRefs=controllerInfoAppender,controllerDebugAppender
logger.kafka.controller.appenderRef.controllerInfoAppender.ref=ControllerInfoAppender
logger.kafka.controller.appenderRef.controllerDebugAppender.ref=ControllerDebugAppender
logger.kafka.controller.additivity=false

# Log Cleaner logger
logger.kafka.log.LogCleaner.name=kafka.log.LogCleaner
logger.kafka.log.LogCleaner.level={{ log_level|default("DEBUG") }}
logger.kafka.log.LogCleaner.appenderRefs=cleanerInfoAppender,cleanerDebugAppender
logger.kafka.log.LogCleaner.appenderRef.cleanerInfoAppender.ref=CleanerInfoAppender
logger.kafka.log.LogCleaner.appenderRef.cleanerDebugAppender.ref=CleanerDebugAppender
logger.kafka.log.LogCleaner.additivity=false

# State change logger
logger.state.change.logger.name=state.change.logger
logger.state.change.logger.level={{ log_level|default("DEBUG") }}
logger.state.change.logger.appenderRefs=stateChangeInfoAppender,stateChangeDebugAppender
logger.state.change.logger.appenderRef.stateChangeInfoAppender.ref=StateChangeInfoAppender
logger.state.change.logger.appenderRef.stateChangeDebugAppender.ref=StateChangeDebugAppender
logger.state.change.logger.additivity=false

# Authorizer logger
logger.kafka.authorizer.logger.name=kafka.authorizer.logger
logger.kafka.authorizer.logger.level={{ log_level|default("DEBUG") }}
logger.kafka.authorizer.logger.appenderRefs=authorizerInfoAppender,authorizerDebugAppender
logger.kafka.authorizer.logger.appenderRef.authorizerInfoAppender.ref=AuthorizerInfoAppender
logger.kafka.authorizer.logger.appenderRef.authorizerDebugAppender.ref=AuthorizerDebugAppender
logger.kafka.authorizer.logger.additivity=false

# Coordinator logger
logger.org.apache.kafka.coordinator.group.name=org.apache.kafka.coordinator.group
logger.org.apache.kafka.coordinator.group.level={{ log_level|default("DEBUG") }}
logger.org.apache.kafka.coordinator.group.appenderRefs=kafkaInfoAppender,kafkaDebugAppender
logger.org.apache.kafka.coordinator.group.appenderRef.kafkaInfoAppender.ref=KafkaInfoAppender
logger.org.apache.kafka.coordinator.group.appenderRef.kafkaDebugAppender.ref=KafkaDebugAppender
logger.org.apache.kafka.coordinator.group.additivity=false
